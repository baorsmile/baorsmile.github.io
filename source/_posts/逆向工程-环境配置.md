title: 逆向工程_环境配置
date: 2018-04-18 18:08:01
tags: 逆向
category:
---

工欲善其事必先利其器
<!-- more -->
<The rest of contents | 余下全文\>

# 工具

* Cycript
* MonkeyDev
* PP助手
* MachOView
* idapro
* ios-app-signer-master

# [Cycript](http://www.cycript.org/)

* 从[官网](http://www.cycript.org/)下载最新的 SDK，解压，然后把解压的文件夹复制到**/opt/** 下
* 配置环境变量，让我们可以在任何地方使用这个 **cycript** 命令,三个地方，可任选其一，**.profile、.bash_profie、.zshrc**,不过我选择放在 **.profile** 里面，**.bash_profie** 和 **.zshrc** 文件里都分别添加了**source ~/.profile**，下面要配置了
```
export CYCRIPT=/opt/cycript_0.9.594
export PATH=$PATH:$CYCRIPT
```
好了 我们可以在任何地方 **cycript** 了
* 注意：当在终端运行 **cycript** 时会出现下面的错误
```
dyld: Library not loaded: /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/libruby.2.0.0.dylib
  Referenced from: /Users/devzkn/Downloads/cycript_0.9.594/Cycript.lib/cycript-apl
  Reason: image not found
```
相当棘手的问题，这说明你的 ruby 版本太高，不知道为啥 crycript 不更新最新的 ruby 呢？？？先不管了，先说解决办法：
#### 1.设置 SIP
* 查询 SIP 状态
```
csrutil status
System Integrity Protection status: enabled.
```
以上说明你开启 SIP 功能了
* 关闭SIP
重启电脑按住 **command+r** 进入Recovery模式，打开终端，输入 **csrutil disable** 关闭SIP，重启电脑
#### 2.复制自己的ruby 版本
```
sudo mkdir -p /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/
sudo ln -s /System/Library/Frameworks/Ruby.framework/Versions/2.3/usr/lib/libruby.2.3.0.dylib /System/Library/Frameworks/Ruby.framework/Versions/2.0/usr/lib/libruby.2.0.0.dylib
```
> 其中版本要看自己本地的，我自己的是2.3 **/System/Library/Frameworks/Ruby.framework/Versions/** 这个下面是多少就填些多少就行了

# [MonkeyDev](https://github.com/AloneMonkey/MonkeyDev)
这里 **MonkeyDev** 是由网易一位安防的大牛开发的，自动集成class-dump、restore-symbol、Reveal、Cycript和注入的动态库并重签名安装到非越狱机器。
安装过程全在 wiki 里面，由于是中文，讲的比较详细，安装即可

# [PP助手 for mac](https://pro.25pp.com/pp_mac_ios)
用于下载越狱软件，在 **应用游戏** -> **越狱应用**，点击搜索，比如 **微信** ，如果你手机连接了电脑，记得要拔了手机，才能显示下载！
